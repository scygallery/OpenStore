(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{9661:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(4942),s=r(5861),i=r(7757),a=r.n(i),c=r(7294),o=r(1210),l=r(4600),u=r(7616),d=r(5241),p=r(6601),h=r(1163),f=r(5675),m=r(2484),x=r.n(m),g=r(4298),j=r(9008),v=r(2651),y=r(2025),b=r(1615),w=r(8693),_=r(5893);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=(0,d.create)("https://ipfs.infura.io:5001/api/v0");function C(){var e=(0,c.useState)({price:"",name:"",category:"",fileUrl:null,description:""}),t=e[0],r=e[1],i=(0,h.useRouter)();function d(){return(d=(0,s.Z)(a().mark((function e(n){var s,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.target.files[0],e.prev=1,e.next=4,N.add(s,{progress:function(e){return console.log("received: ".concat(e))}});case 4:i=e.sent,c="https://ipfs.infura.io/ipfs/".concat(i.path),r(k(k({},t),{},{fileUrl:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error uploading file: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function m(){return(m=(0,s.Z)(a().mark((function e(){var r,n,s,i,c,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,n=t.description,s=t.price,i=t.fileUrl,c=t.category,r&&n&&s&&i&&c){e.next=3;break}return e.abrupt("return");case 3:return o=JSON.stringify({name:r,description:n,image:i}),e.prev=4,e.next=7,N.add(o);case 7:l=e.sent,O("https://ipfs.infura.io/ipfs/".concat(l.path)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error uploading file: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function O(e){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)(a().mark((function e(r){var n,s,c,d,p,h,f,m,g,j,v,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(x()),e.next=3,n.connect();case 3:return s=e.sent,c=new o.Q(s),d=c.getSigner(),console.log(r),e.prev=7,p=new l.CH(y.nftaddress,b.Mt,d),e.next=11,p.createToken(r);case 11:return h=e.sent,e.next=14,h.wait();case 14:return f=e.sent,console.log(f),m=f.events[0],g=m.args[2],j=g.toNumber(),console.log(t),v=u.vz(t.price,"ether"),console.log(v.toString()),p=new l.CH(y.nftmarketaddress,w.Mt,d),e.next=25,p.getListingPrice();case 25:return _=(_=e.sent).toString(),e.next=29,p.createMarketItem(y.nftaddress,j,v,t.category,{value:_});case 29:return h=e.sent,e.next=32,h.wait();case 32:i.push("/"),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(7),console.log(e.t0);case 38:case"end":return e.stop()}}),e,null,[[7,35]])})))).apply(this,arguments)}var E=function(e){r((function(t){return k(k({},t),{},(0,n.Z)({},e.target.name,e.target.value))}))};return(0,c.useEffect)((function(){return console.log(t)}),[t]),(0,_.jsxs)("div",{children:[(0,_.jsx)(g.default,{src:"https://kit.fontawesome.com/a076d05399.js"}),(0,_.jsx)(j.default,{children:(0,_.jsx)("title",{children:"Create Asset"})}),(0,_.jsxs)("main",{children:[(0,_.jsx)("h1",{className:"text-center my-5 header display-4",children:"Create Asset"}),(0,_.jsx)("div",{style:{marginBottom:"50px"},className:"container ",children:(0,_.jsxs)("div",{className:"row ",children:[(0,_.jsx)("div",{className:"col-sm-6 block-to-disappear-in-mobile ",style:{padding:"30px"},children:(0,_.jsx)(f.default,{src:"https://res.cloudinary.com/dnv3ztqf1/image/upload/v1632635884/devathon/create-asset_nvz7xi.svg",layout:"fill",alt:"image htmlFor add doctor"})}),(0,_.jsx)("div",{className:"col-sm-6",children:(0,_.jsxs)("for",{action:"/adddoctor",method:"POST",className:"form-group",children:[(0,_.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"fIwiR9rbZTmvxfmW8gC8CiS93Zx36iAh0kdWjuhKGglTMld96xGITqBEbdBR4EkY"}),(0,_.jsxs)("ul",{className:"unordered-list",children:[(0,_.jsxs)("li",{children:[(0,_.jsx)("label",{htmlFor:"id_name",children:"Asset Name:"})," ",(0,_.jsx)("input",{type:"text",name:"name",placeholder:"Asset Name",maxLength:"500",required:!0,onChange:E,id:"id_name"})]}),(0,_.jsxs)("li",{children:[(0,_.jsx)("label",{htmlFor:"id_description",children:"Asset Description"})," ",(0,_.jsx)("textarea",{type:"text",name:"description",style:{height:"20vh",resize:"none"},maxLength:"500",placeholder:"Describe your asset in 500 or less characters",required:!0,onChange:E,id:"id_description"})]}),(0,_.jsxs)("li",{children:[(0,_.jsx)("label",{htmlFor:"id_price_in_eth",children:"Asset price in ETH:"})," ",(0,_.jsx)("input",{type:"number",name:"price",required:!0,onChange:E,id:"id_price_in_eth"})]}),(0,_.jsxs)("li",{children:[(0,_.jsx)("label",{htmlFor:"id_image",children:"Asset Image:"})," ",(0,_.jsx)("input",{type:"file",accept:"image/*",name:"Asset",className:"my-4",onChange:function(e){return d.apply(this,arguments)}})]})]}),(0,_.jsx)("div",{style:{width:"100%"},children:(0,_.jsx)("div",{className:"text-center",children:t.fileUrl&&(0,_.jsx)(f.default,{src:t.fileUrl,height:"350",width:"350",alt:"Product image"})})}),(0,_.jsx)("label",{htmlFor:"category",children:"Category:"})," ",(0,_.jsxs)("select",{name:"category",id:"category",onChange:E,children:[(0,_.jsx)("option",{value:"",children:"Select a category"}),(0,_.jsx)("option",{value:"Art",children:"Art"}),(0,_.jsx)("option",{value:"Graphics",children:"Graphics"}),(0,_.jsx)("option",{value:"Others",children:"Others"})]}),(0,_.jsx)("button",{onClick:function(){return m.apply(this,arguments)},className:"btn mt-5 btn-block commonbutton5",type:"submit",children:"Submit"})]})})]})})]}),(0,_.jsxs)("footer",{children:[(0,_.jsx)(p.Z,{}),(0,_.jsx)(v.Z,{})]})]})}},7363:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return r(9661)}])},7005:function(){},6937:function(){},6784:function(){},8795:function(){}},function(e){e.O(0,[277,932,977,843,774,888,179],(function(){return t=7363,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=create-984667bae578ce467caa.js.map